version: '3.4'

x-client: &client
 image: ethereum/client-go:latest
 entrypoint:
   - geth
   - --nousb
   - --nodiscover
   - --syncmode=light
   - --rpc
   - --rpcapi=les,eth,admin,web3
   - --rpcport=9444
   - --rpcaddr=0.0.0.0
   - --networkid=$NETWORKID
 environment:
   - NETWORKID

services:
  client_1:
    <<: *client
    ports:
      - "9441:9444"
  client_2:
    <<: *client
    ports:
      - "9442:9444"

